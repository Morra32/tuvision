/*! For license information please see api.js.LICENSE.txt */
window.ditto=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=49)}([function(e,t){!function(t){var r="Modernizr"in t,n=t.Modernizr;!function(e,t,r,n){var o=[],i={_version:"3.11.3",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var r=this;setTimeout((function(){t(r[e])}),0)},addTest:function(e,t,r){o.push({name:e,fn:t,options:r})},addAsyncTest:function(e){o.push({name:null,fn:e})}},a=function(){};a.prototype=i,a=new a;var s=[];function c(e,t){return typeof e===t}var u=r.documentElement,l="svg"===u.nodeName.toLowerCase();function d(){return"function"!=typeof r.createElement?r.createElement(arguments[0]):l?r.createElementNS.call(r,"http://www.w3.org/2000/svg",arguments[0]):r.createElement.apply(r,arguments)}!function(){var e=d("audio");a.addTest("audio",(function(){var t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t))}catch(e){}return t}));try{e.canPlayType&&(a.addTest("audio.ogg",e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")),a.addTest("audio.mp3",e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,"")),a.addTest("audio.opus",e.canPlayType('audio/ogg; codecs="opus"')||e.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,"")),a.addTest("audio.wav",e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")),a.addTest("audio.m4a",(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")))}catch(e){}}(),a.addTest("canvas",(function(){var e=d("canvas");return!(!e.getContext||!e.getContext("2d"))}));var f=d("canvas");a.addTest("todataurljpeg",(function(){var e=!1;try{e=!!a.canvas&&0===f.toDataURL("image/jpeg").indexOf("data:image/jpeg")}catch(e){}return e})),a.addTest("todataurlpng",(function(){var e=!1;try{e=!!a.canvas&&0===f.toDataURL("image/png").indexOf("data:image/png")}catch(e){}return e})),a.addTest("todataurlwebp",(function(){var e=!1;try{e=!!a.canvas&&0===f.toDataURL("image/webp").indexOf("data:image/webp")}catch(e){}return e})),a.addTest("cors","XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest);var p="Moz O ms Webkit",h=i._config.usePrefixes?p.split(" "):[];i._cssomPrefixes=h;var m={elem:d("modernizr")};a._q.push((function(){delete m.elem}));var g={style:m.elem.style};function v(){var e=r.body;return e||((e=d(l?"svg":"body")).fake=!0),e}function b(e,t,n,o){var i,a,s,c,l="modernizr",f=d("div"),p=v();if(parseInt(n,10))for(;n--;)(s=d("div")).id=o?o[n]:l+(n+1),f.appendChild(s);return(i=d("style")).type="text/css",i.id="s"+l,(p.fake?p:f).appendChild(i),p.appendChild(f),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(r.createTextNode(e)),f.id=l,p.fake&&(p.style.background="",p.style.overflow="hidden",c=u.style.overflow,u.style.overflow="hidden",u.appendChild(p)),a=t(f,e),p.fake?(p.parentNode.removeChild(p),u.style.overflow=c,u.offsetHeight):f.parentNode.removeChild(f),!!a}function y(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function O(e,r,n){var o;if("getComputedStyle"in t){o=getComputedStyle.call(t,e,r);var i=t.console;if(null!==o)n&&(o=o.getPropertyValue(n));else if(i)i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else o=!r&&e.currentStyle&&e.currentStyle[n];return o}function S(e,r,o,i){if(i=!c(i,"undefined")&&i,!c(o,"undefined")){var a=function(e,r){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(y(e[o]),r))return!0;return!1}if("CSSSupportsRule"in t){for(var i=[];o--;)i.push("("+y(e[o])+":"+r+")");return b("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===O(e,null,"position")}))}return n}(e,o);if(!c(a,"undefined"))return a}for(var s,u,l,f,p,h=["modernizr","tspan","samp"];!g.style&&h.length;)s=!0,g.modElem=d(h.shift()),g.style=g.modElem.style;function m(){s&&(delete g.style,delete g.modElem)}for(l=e.length,u=0;u<l;u++)if(f=e[u],p=g.style[f],~(""+f).indexOf("-")&&(f=f.replace(/([a-z])-([a-z])/g,(function(e,t,r){return t+r.toUpperCase()})).replace(/^-/,"")),g.style[f]!==n){if(i||c(o,"undefined"))return m(),"pfx"!==r||f;try{g.style[f]=o}catch(e){}if(g.style[f]!==p)return m(),"pfx"!==r||f}return m(),!1}a._q.unshift((function(){delete g.style}));var E,T,A=i._config.usePrefixes?p.toLowerCase().split(" "):[];function w(e,t){return function(){return e.apply(t,arguments)}}function R(e,t,r,n,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+h.join(i+" ")+i).split(" ");return c(t,"string")||c(t,"undefined")?S(a,t,n,o):function(e,t,r){var n;for(var o in e)if(e[o]in t)return!1===r?e[o]:c(n=t[e[o]],"function")?w(n,r||t):n;return!1}(a=(e+" "+A.join(i+" ")+i).split(" "),t,r)}function _(e,t,r){return R(e,n,n,t,r)}function P(e,t){if("object"==typeof e)for(var r in e)E(e,r)&&P(r,e[r]);else{var n=(e=e.toLowerCase()).split("."),o=a[n[0]];if(2===n.length&&(o=o[n[1]]),void 0!==o)return a;t="function"==typeof t?t():t,1===n.length?a[n[0]]=t:(!a[n[0]]||a[n[0]]instanceof Boolean||(a[n[0]]=new Boolean(a[n[0]])),a[n[0]][n[1]]=t),function(e){var t=u.className,r=a._config.classPrefix||"";if(l&&(t=t.baseVal),a._config.enableJSClass){var n=new RegExp("(^|\\s)"+r+"no-js(\\s|$)");t=t.replace(n,"$1"+r+"js$2")}a._config.enableClasses&&(e.length>0&&(t+=" "+r+e.join(" "+r)),l?u.className.baseVal=t:u.className=t)}([(t&&!1!==t?"":"no-")+n.join("-")]),a._trigger(e,t)}return a}i._domPrefixes=A,i.testAllProps=R,i.testAllProps=_,a.addTest("flexbox",_("flexBasis","1px",!0)),a.addTest("flexboxlegacy",_("boxDirection","reverse",!0)),a.addTest("flexboxtweener",_("flexAlign","end",!0)),a.addTest("csstransforms",(function(){return-1===navigator.userAgent.indexOf("Android 2.")&&_("transform","scale(1)",!0)})),a.addTest("customevent","CustomEvent"in t&&"function"==typeof t.CustomEvent),a.addTest("classlist","classList"in u),a.addTest("eventlistener","addEventListener"in t),a.addTest("filereader",!!(t.File&&t.FileList&&t.FileReader)),E=c(T={}.hasOwnProperty,"undefined")||c(T.call,"undefined")?function(e,t){return t in e&&c(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},i._l={},i.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),a.hasOwnProperty(e)&&setTimeout((function(){a._trigger(e,a[e])}),0)},i._trigger=function(e,t){if(this._l[e]){var r=this._l[e];setTimeout((function(){var e;for(e=0;e<r.length;e++)(0,r[e])(t)}),0),delete this._l[e]}},a._q.push((function(){i.addTest=P})),a.addAsyncTest((function(){var e,n=function(e){u.contains(e)||u.appendChild(e)},o=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},i=function(e,t){var r=!!e;if(r&&((r=new Boolean(r)).blocked="blocked"===e),P("flash",(function(){return r})),t&&f.contains(t)){for(;t.parentNode!==f;)t=t.parentNode;f.removeChild(t)}};try{e="ActiveXObject"in t&&"Pan"in new t.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||e)||l)i(!1);else{var a,s,c=d("embed"),f=v();if(c.type="application/x-shockwave-flash",f.appendChild(c),!("Pan"in c)&&!e)return n(f),i("blocked",c),void o(f);a=function(){if(n(f),!u.contains(f))return f=r.body||f,(c=d("embed")).type="application/x-shockwave-flash",f.appendChild(c),setTimeout(a,1e3);u.contains(c)?(s=c.style.cssText,i(""===s||"blocked",c)):i("blocked"),o(f)},setTimeout(a,10)}})),a.addTest("fileinput",(function(){var e=navigator.userAgent;if(e.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)||e.match(/\swv\).+(chrome)\/([\w\.]+)/i))return!1;var t=d("input");return t.type="file",!t.disabled})),a.addTest("imgcrossorigin","crossOrigin"in d("img"));var I=function(e){if("undefined"==typeof XMLHttpRequest)return!1;var t=new XMLHttpRequest;t.open("get","/",!0);try{t.responseType=e}catch(e){return!1}return"response"in t&&t.responseType===e};a.addTest("xhrresponsetypearraybuffer",I("arraybuffer")),a.addTest("xhrresponsetypejson",I("json"));var C=i._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];i._prefixes=C;var j,N=(j=t.matchMedia||t.msMatchMedia)?function(e){var t=j(e);return t&&t.matches||!1}:function(e){var t=!1;return b("@media "+e+" { #modernizr { position: absolute; } }",(function(e){t="absolute"===O(e,null,"position")})),t};i.mq=N,a.addTest("touchevents",(function(){if("ontouchstart"in t||t.TouchEvent||t.DocumentTouch&&r instanceof DocumentTouch)return!0;var e=["(",C.join("touch-enabled),("),"heartz",")"].join("");return N(e)})),a.addTest("typedarrays","ArrayBuffer"in t),a.addAsyncTest((function(){-1!==navigator.userAgent.indexOf("MSIE 7.")&&setTimeout((function(){a.addTest("datauri",new Boolean(!1))}),10);var e=new Image;e.onerror=function(){a.addTest("datauri",new Boolean(!1))},e.onload=function(){1===e.width&&1===e.height?function(){var e=new Image;e.onerror=function(){a.addTest("datauri",new Boolean(!0)),a.addTest("datauri.over32kb",!1)},e.onload=function(){a.addTest("datauri",new Boolean(!0)),a.addTest("datauri.over32kb",1===e.width&&1===e.height)};var t="R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";for(;t.length<33e3;)t="\r\n"+t;e.src="data:image/gif;base64,"+t}():a.addTest("datauri",new Boolean(!1))},e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="})),function(){var e=d("video");a.addTest("video",(function(){var t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t))}catch(e){}return t}));try{e.canPlayType&&(a.addTest("video.ogg",e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")),a.addTest("video.h264",e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")),a.addTest("video.h265",e.canPlayType('video/mp4; codecs="hev1"').replace(/^no$/,"")),a.addTest("video.webm",e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")),a.addTest("video.vp9",e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")),a.addTest("video.hls",e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")),a.addTest("video.av1",e.canPlayType('video/mp4; codecs="av01"').replace(/^no$/,"")))}catch(e){}}(),a.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),a.addTest("atobbtoa","atob"in t&&"btoa"in t,{aliases:["atob-btoa"]}),function(){var e,t,r,n,i,u;for(var l in o)if(o.hasOwnProperty(l)){if(e=[],(t=o[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(r=0;r<t.options.aliases.length;r++)e.push(t.options.aliases[r].toLowerCase());for(n=c(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(u=e[i].split(".")).length?a[u[0]]=n:(a[u[0]]&&(!a[u[0]]||a[u[0]]instanceof Boolean)||(a[u[0]]=new Boolean(a[u[0]])),a[u[0]][u[1]]=n),s.push((n?"":"no-")+u.join("-"))}}(),delete i.addTest,delete i.addAsyncTest;for(var L=0;L<a._q.length;L++)a._q[L]();e.Modernizr=a}(t,t,document),e.exports=t.Modernizr,r?t.Modernizr=n:delete t.Modernizr}(window)},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=r(6),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n;n=function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var o,a=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),c=/nexus\s*[0-6]\s*/i.test(t),u=!c&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),d=/silk/i.test(t),f=/sailfish/i.test(t),p=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),v=!a&&!d&&/macintosh/i.test(t),b=!s&&!f&&!p&&!h&&/linux/i.test(t),y=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),O=r(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(t)&&!/tablet pc/i.test(t),E=!S&&/[^-]mobi/i.test(t),T=/xbox/i.test(t);/opera/i.test(t)?o={name:"Opera",opera:e,version:O||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?o={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||O}:/SamsungBrowser/i.test(t)?o={name:"Samsung Internet for Android",samsungBrowser:e,version:O||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?o={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?o={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?o={name:"Opera Coast",coast:e,version:O||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?o={name:"Focus",focus:e,version:r(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?o={name:"Yandex Browser",yandexbrowser:e,version:O||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?o={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?o={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?o={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?o={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?o={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?o={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},y?(o.msedge=e,o.version=y):(o.msie=e,o.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?o={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?o={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?o={name:"Microsoft Edge",msedge:e,version:y}:/vivaldi/i.test(t)?o={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||O}:f?o={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?o={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(o={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(o.firefoxos=e,o.osname="Firefox OS")):d?o={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?o={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?o={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:O||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(o={name:"WebOS",osname:"WebOS",webos:e,version:O||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(o.touchpad=e)):/bada/i.test(t)?o={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:p?o={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||O}:/qupzilla/i.test(t)?o={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||O}:/chromium/i.test(t)?o={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||O}:/chrome|crios|crmo/i.test(t)?o={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?o={name:"Android",version:O}:/safari|applewebkit/i.test(t)?(o={name:"Safari",safari:e},O&&(o.version=O)):a?(o={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},O&&(o.version=O)):o=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||O}:{name:r(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(o.name=o.name||"Blink",o.blink=e):(o.name=o.name||"Webkit",o.webkit=e),!o.version&&O&&(o.version=O)):!o.opera&&/gecko\//i.test(t)&&(o.name=o.name||"Gecko",o.gecko=e,o.version=o.version||r(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!s&&!o.silk?!o.windowsphone&&a?(o[a]=e,o.ios=e,o.osname="iOS"):v?(o.mac=e,o.osname="macOS"):T?(o.xbox=e,o.osname="Xbox"):g?(o.windows=e,o.osname="Windows"):b&&(o.linux=e,o.osname="Linux"):(o.android=e,o.osname="Android");var A="";o.windows?A=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?A=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?A=(A=r(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?A=(A=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?A=r(/android[ \/-](\d+(\.\d+)*)/i):o.webos?A=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?A=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?A=r(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(A=r(/tizen[\/\s](\d+(\.\d+)*)/i)),A&&(o.osversion=A);var w=!o.windows&&A.split(".")[0];return S||u||"ipad"==a||s&&(3==w||w>=4&&!E)||o.silk?o.tablet=e:(E||"iphone"==a||"ipod"==a||s||c||o.blackberry||o.webos||o.bada)&&(o.mobile=e),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===i([o.version,"1.0"])||o.mzbrowser&&1===i([o.version,"6.0"])||o.focus&&1===i([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=e:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=e:o.x=e,o}var r=t("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function o(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function i(e){for(var t=Math.max(n(e[0]),n(e[1])),r=o(e,(function(e){var r=t-n(e);return o((e+=new Array(r+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function a(e,n,o){var a=r;"string"==typeof n&&(o=n,n=void 0),void 0===n&&(n=!1),o&&(a=t(o));var s=""+a.version;for(var c in e)if(e.hasOwnProperty(c)&&a[c]){if("string"!=typeof e[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(e));return i([s,e[c]])<0}return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=a,r.compareVersions=i,r.check=function(e,t,r){return!a(e,t,r)},r._detect=t,r.detect=t,r},e.exports?e.exports=n():r(48)("bowser",n)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"API_CALL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BASE_URL",{enumerable:!0,get:function(){return i.BASE_URL}}),Object.defineProperty(t,"SERVICES",{enumerable:!0,get:function(){return i.SERVICES}}),Object.defineProperty(t,"HEADER",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"RESPONSE",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ROUTE",{enumerable:!0,get:function(){return c.default}});var o=n(r(38)),i=r(14),a=n(r(39)),s=n(r(40)),c=n(r(15))},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(2);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(2),o=r(26),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=r(10)),s),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(i)})),e.exports=c}).call(this,r(25))},function(e,t,r){"use strict";var n=r(2),o=r(27),i=r(7),a=r(29),s=r(32),c=r(33),u=r(11);e.exports=function(e){return new Promise((function(t,l){var d=e.data,f=e.headers;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var g=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),i(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,l,n),p=null}},p.onabort=function(){p&&(l(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=r(34),b=(e.withCredentials||c(g))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},function(e,t,r){"use strict";var n=r(28);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(i,(function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])})),n.forEach(a,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var s=o.concat(i).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(c,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICES=t.BASE_URL=void 0;var o,i=n(r(1)),a={VTO:"VTO",FA:"FA"};t.SERVICES=a;var s=(o={},(0,i.default)(o,a.VTO,"/api/1.3/dittos"),(0,i.default)(o,a.FA,"/faceiq/api/1.0/analyses"),o);t.BASE_URL=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={START_SESSION:"/",GET_THUMBNAIL:"/thumbnail",GET_FRONTAL_FRAME:"/frontal-frame",GET_DITTO_URL:"/",GET_STRIP:"/strip",POST_CHUNK:"/creation/chunk",POST_FORM:"/creation/form",COMMIT_SESSION:"/creation/commit",GET_SESSION_STATUS:"/creation/status",FA_ANALYSES:"/",FA_FRONTAL_IMAGE:"/images/frontal",FA_CLIENT_DATA:"/client-data",FA_CUSTOMERS:"/customers",FA_RECOMMENDATIONS:"/recommendations",FA_RESULTS:"/results",FA_STATUS:"/status"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClientSideApiManager",{enumerable:!0,get:function(){return n.ClientSideApiManager}}),Object.defineProperty(t,"TryonApiManager",{enumerable:!0,get:function(){return n.TryonApiManager}}),Object.defineProperty(t,"RecorderApiManager",{enumerable:!0,get:function(){return n.RecorderApiManager}}),Object.defineProperty(t,"CompatibilityApiManager",{enumerable:!0,get:function(){return n.CompatibilityApiManager}}),Object.defineProperty(t,"FacialAnalysisApiManager",{enumerable:!0,get:function(){return n.FacialAnalysisApiManager}}),Object.defineProperty(t,"HEADER",{enumerable:!0,get:function(){return o.HEADER}}),Object.defineProperty(t,"RESPONSE",{enumerable:!0,get:function(){return o.RESPONSE}});var n=r(17),o=r(5)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.FacialAnalysisApiManager=t.CompatibilityApiManager=t.RecorderApiManager=t.TryonApiManager=t.ClientSideApiManager=void 0;var o=n(r(18)),i=r(43),a=r(5);t.ClientSideApiManager=function(e){return Object.assign({},o.default,{get:i.get,getThumbnail:i.getThumbnail,getFrontalFrame:i.getFrontalFrame},e)};t.TryonApiManager=function(e){return Object.assign({},o.default,{get:i.get,getDittoUrl:i.getDittoUrl,getStrip:i.getStrip},e)};t.RecorderApiManager=function(e){return Object.assign({},o.default,{post:i.post,startSession:i.startSession,postFrames:i.postFrames,commitSession:i.commitSession,getSessionStatus:i.getSessionStatus},e)};t.CompatibilityApiManager=function(e){return Object.assign({},o.default,{post:i.post,startSession:i.startSession,postChunk:i.postChunk,postForm:i.postForm,commitSession:i.commitSession,getSessionStatus:i.getSessionStatus},e)};t.FacialAnalysisApiManager=function(e){return Object.assign({},o.default,{get:i.get,getCustomerFace:i.getCustomerFace,getRecommendations:i.getRecommendations,getAnalysisResults:i.getAnalysisResults,getAnalysisStatus:i.getAnalysisStatus,post:i.post,postCustomer:i.postCustomer,postAnalyses:i.postAnalyses,put:i.put,putFrontalImage:i.putFrontalImage,putClientData:i.putClientData},e,{service:a.SERVICES.FA})}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),i=n(r(19)),a=n(r(37)),s=r(5);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={service:s.SERVICES.VTO,setAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this.accessKeyId=e),t&&(this.signature=t),e||t||(this.accessKeyId=null,this.signature=null)},authEnabled:function(){return!!this.accessKeyId&&!!this.signature},setServerNetloc:function(e){this.serverNetloc=e},setDittoId:function(e){this.dittoId=e},getBaseURL:function(){var e=this.serverNetloc,t=s.BASE_URL.VTO;return this.service===s.SERVICES.FA&&(e=this.faServerNetloc,t=s.BASE_URL.FA),"".concat(e).concat(t)},getHeaders:function(){var e={};return this.authEnabled()&&(e[s.HEADER.ACCESS_KEY_ID]=this.accessKeyId,e[s.HEADER.SIGNATURE]=this.signature),e},request:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return i.default.request(u({url:e,method:t,baseURL:this.getBaseURL(),headers:this.getHeaders()},r)).then(n).catch(this.onError.bind(this))},onError:function(e){var t=e.response;if(t){var r=Object.keys(t.headers).join(" "),n=new RegExp("\\b".concat(s.HEADER.VCS,"\\b"),"i");if(r.match(n)){var o=t.status,i=t.data;throw new a.default(o,i)}}this.mockError(e)},mockError:function(e){var t=e.response,r={status:"error",detail:"internal-server-error"},n=t?t.status:500;throw i.default.isCancel(e)?(n=499,r.detail="request-cancelled"):t&&t.status&&(r.detail=t.status in this.REQUEST_STATUS?this.REQUEST_STATUS[t.status]:"".concat(t.status,"-status-code")),new a.default(n,r)},REQUEST_TYPE:Object.freeze({POST:"post",GET:"get",PUT:"put"}),REQUEST_STATUS:Object.freeze({400:"bad-request",403:"access-denied",404:"not-found",405:"not-allowed",500:"internal-server-error",503:"service-unavailable"})};t.default=l},function(e,t,r){e.exports=r(20)},function(e,t,r){"use strict";var n=r(2),o=r(6),i=r(21),a=r(12);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=s(r(9));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=r(13),c.CancelToken=r(35),c.isCancel=r(8),c.all=function(e){return Promise.all(e)},c.spread=r(36),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(2),o=r(7),i=r(22),a=r(23),s=r(12);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}})),e.exports=c},function(e,t,r){"use strict";var n=r(2);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(2),o=r(24),i=r(8),a=r(9);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(11);e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(30),o=r(31);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(2),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(2);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(2);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(13);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){this.status=e,this.data=t};t.default=n},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(14),i=n(r(15)),a=o.BASE_URL.VTO,s=o.BASE_URL.FA,c={START_SESSION:"".concat(a).concat(i.default.START_SESSION),GET_THUMBNAIL:"".concat(a).concat(i.default.GET_THUMBNAIL),GET_FRONTAL_FRAME:"".concat(a).concat(i.default.GET_FRONTAL_FRAME),GET_DITTO_URL:"".concat(a).concat(i.default.GET_DITTO_URL),GET_STRIP:"".concat(a).concat(i.default.GET_STRIP),POST_CHUNK:"".concat(a).concat(i.default.POST_CHUNK),POST_FORM:"".concat(a).concat(i.default.POST_FORM),COMMIT_SESSION:"".concat(a).concat(i.default.COMMIT_SESSION),GET_SESSION_STATUS:"".concat(a).concat(i.default.GET_SESSION_STATUS),FA_POST_ANALYSES:"".concat(s).concat(i.default.FA_ANALYSES),FA_FRONTAL_IMAGES:"".concat(s).concat(i.default.FA_FRONTAL_IMAGE),FA_CLIENT_DATA:"".concat(s).concat(i.default.FA_CLIENT_DATA),FA_CUSTOMERS:"".concat(s).concat(i.default.FA_CUSTOMERS),FA_RECOMMENDATIONS:"".concat(s).concat(i.default.FA_RECOMMENDATIONS),FA_GET_RESULTS:"".concat(s).concat(i.default.FA_RESULTS),FA_GET_STATUS:"".concat(s).concat(i.default.FA_STATUS)};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ACCESS_KEY_ID:"X-Ditto-Access-Key-Id",SIGNATURE:"X-Ditto-Signature",VCS:"x-ditto-creation-server"};t.default=n},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(41)),i=n(r(42)),a={ERROR:o.default,STATUS:i.default};t.default=a},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LEGACY_ERROR=void 0;var o=n(r(1));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var a={DITTO_ALREADY_EXISTS:"ditto-already-exists",NON_SCALE_FRAME_TYPE:"non-scale-frame-type",FRAMES_MISSING:"frames-missing",VIDEO_PROCESSING_ERROR:"video-processing-error"};t.LEGACY_ERROR=a;var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ERROR:"error",INVALID_DITTO_ID_ERROR:"invalid-ditto-id-error",MISSING_PARAMETER:"missing-parameter",INVALID_CHUNK_NUMBER:"invalid-chunk-number",INVALID_CHUNK_TYPE:"invalid-chunk-type",INVALID_CHUNK_LENGTH:"invalid-chunk-length",INVALID_FRAME_COUNT:"invalid-frame-count",FRAME_ERROR:"frame-error",FRAME_INPUT_SIZE_ERROR:"frame-input-size-error",FRAME_INPUT_NOT_IMAGE_ERROR:"frame-input-not-image-error",FRAME_INPUT_NOT_JPEG_ERROR:"frame-input-not-jpeg-error",FRAME_TYPE_NOT_ALLOWED_ERROR:"frame-type-not-allowed-error",FRAME_SIZE_NOT_ALLOWED_ERROR:"frame-size-not-allowed-error",DITTO_COLLISION:"ditto-collision",SESSION_NOT_FOUND:"session-not-found",ALREADY_COMMITTED:"already-committed",COMMIT_IN_PROGRESS:"commit-in-progress",ERROR_TIMED_OUT:"error-timed-out",ERROR_SCALING:"error-scaling",ERROR_DETECTION:"error-detection",INCORRECT_DATA:"incorrect-data",CREATION_STATUS_NOT_FOUND:"creation-status-not-found"},a);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SUCCESS:"success",ERROR:"error",IN_PROGRESS:"in-progress"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"post",{enumerable:!0,get:function(){return n.post}}),Object.defineProperty(t,"startSession",{enumerable:!0,get:function(){return n.startSession}}),Object.defineProperty(t,"postFrames",{enumerable:!0,get:function(){return n.postFrames}}),Object.defineProperty(t,"postChunk",{enumerable:!0,get:function(){return n.postChunk}}),Object.defineProperty(t,"postForm",{enumerable:!0,get:function(){return n.postForm}}),Object.defineProperty(t,"commitSession",{enumerable:!0,get:function(){return n.commitSession}}),Object.defineProperty(t,"getSessionStatus",{enumerable:!0,get:function(){return n.getSessionStatus}}),Object.defineProperty(t,"postAnalyses",{enumerable:!0,get:function(){return n.postAnalyses}}),Object.defineProperty(t,"postCustomer",{enumerable:!0,get:function(){return n.postCustomer}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return o.put}}),Object.defineProperty(t,"putFrontalImage",{enumerable:!0,get:function(){return o.putFrontalImage}}),Object.defineProperty(t,"putClientData",{enumerable:!0,get:function(){return o.putClientData}}),Object.defineProperty(t,"get",{enumerable:!0,get:function(){return i.get}}),Object.defineProperty(t,"getThumbnail",{enumerable:!0,get:function(){return i.getThumbnail}}),Object.defineProperty(t,"getFrontalFrame",{enumerable:!0,get:function(){return i.getFrontalFrame}}),Object.defineProperty(t,"getDittoUrl",{enumerable:!0,get:function(){return i.getDittoUrl}}),Object.defineProperty(t,"getStrip",{enumerable:!0,get:function(){return i.getStrip}}),Object.defineProperty(t,"getCustomerFace",{enumerable:!0,get:function(){return i.getCustomerFace}}),Object.defineProperty(t,"getRecommendations",{enumerable:!0,get:function(){return i.getRecommendations}}),Object.defineProperty(t,"getAnalysisResults",{enumerable:!0,get:function(){return i.getAnalysisResults}}),Object.defineProperty(t,"getAnalysisStatus",{enumerable:!0,get:function(){return i.getAnalysisStatus}});var n=r(44),o=r(46),i=r(47)},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.postAnalyses=t.postCustomer=t.getSessionStatus=t.commitSession=t.postForm=t.postChunk=t.postFrames=t.startSession=t.post=void 0;var o=n(r(1)),i=r(5),a=n(r(45));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.post=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.request(e,this.REQUEST_TYPE.POST,t,r)};t.startSession=function(e){var t=this;return e?this.signature=this.clientSignature:this.clientSignature=this.signature,this.post(i.ROUTE.START_SESSION).then((function(e){var r=e.data;return r.status===i.RESPONSE.STATUS.SUCCESS&&r.ditto_id&&(t.dittoId=r.ditto_id),r.signature&&(t.signature=r.signature),e}))};t.postFrames=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="/".concat(this.dittoId,"/creation/frames/");return this.post(n,{data:e,params:t,cancelToken:r})};t.postChunk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="/".concat(this.dittoId).concat(i.ROUTE.POST_CHUNK,"/");return this.post(n,{data:e,params:t,cancelToken:r})};t.postForm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="/".concat(this.dittoId).concat(i.ROUTE.POST_FORM,"/");return this.post(n,{data:e,onUploadProgress:t,cancelToken:r})};t.commitSession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/".concat(this.dittoId).concat(i.ROUTE.COMMIT_SESSION,"/"),r=c({},e);return"boolean"==typeof e.mobile&&(r.mobile=Number(r.mobile)),this.post(t,{params:r},a.default)};t.getSessionStatus=function(){var e="/".concat(this.dittoId).concat(i.ROUTE.GET_SESSION_STATUS,"/");return this.post(e)};t.postCustomer=function(e){var t="".concat(i.ROUTE.FA_CUSTOMERS,"/");return this.post(t,{data:e})};t.postAnalyses=function(e){var t="".concat(i.ROUTE.FA_ANALYSES).concat(this.dittoId,"/");return this.post(t,{data:e})}},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),i=r(5);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=[i.RESPONSE.ERROR.ALREADY_COMMITTED,i.RESPONSE.ERROR.COMMIT_IN_PROGRESS],r=e.data.status;return t.includes(r)?Promise.reject({response:s(s({},e),{},{headers:s(s({},e.headers),{},(0,o.default)({},i.HEADER.VCS,"api-manager-mock-vcs")),status:409,data:{status:i.RESPONSE.ERROR.ERROR,detail:r}})}):Promise.resolve(e)};t.default=c},function(e,t,r){"use strict";var n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.putClientData=t.putFrontalImage=t.put=void 0;var o=n(r(1)),i=r(5);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.put=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.request(e,this.REQUEST_TYPE.PUT,t,r)};t.putFrontalImage=function(e){var t="/".concat(this.dittoId).concat(i.ROUTE.FA_FRONTAL_IMAGE,"/"),r=this.getHeaders();return this.put(t,{data:e,headers:s(s({},r),{},{"content-type":e.type})})};t.putClientData=function(e){var t="/".concat(this.dittoId).concat(i.ROUTE.FA_CLIENT_DATA,"/"),r=this.getHeaders();return this.put(t,{data:e,headers:s(s({},r),{},{"content-type":"application/json"})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnalysisStatus=t.getAnalysisResults=t.getRecommendations=t.getCustomerFace=t.getStrip=t.getDittoUrl=t.getFrontalFrame=t.getThumbnail=t.get=void 0;var n=r(5);t.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,this.REQUEST_TYPE.GET,t)};t.getThumbnail=function(){var e="/".concat(this.dittoId).concat(n.ROUTE.GET_THUMBNAIL,"/?type=json");return this.get(e)};t.getFrontalFrame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/".concat(this.dittoId).concat(n.ROUTE.GET_FRONTAL_FRAME,"/");return this.get(t,{params:e,responseType:"arraybuffer"})};t.getDittoUrl=function(){var e="/".concat(this.dittoId,"/");return this.get(e)};t.getStrip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="/".concat(this.dittoId).concat(n.ROUTE.GET_STRIP,"/");return this.get(t,{params:e,responseType:"arraybuffer"})};t.getCustomerFace=function(){var e="".concat(n.ROUTE.FA_CUSTOMERS,"/").concat(this.dittoId,"/faces/");return this.get(e)};t.getRecommendations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(n.ROUTE.FA_RECOMMENDATIONS,"/by-cid/").concat(this.dittoId,"/");return this.get(t,{params:e})};t.getAnalysisResults=function(){var e="/".concat(this.dittoId).concat(n.ROUTE.FA_RESULTS,"/");return this.get(e)};t.getAnalysisStatus=function(){var e="/".concat(this.dittoId).concat(n.ROUTE.FA_STATUS,"/");return this.get(e)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,r){"use strict";r.r(t),r.d(t,"api",(function(){return Y})),r.d(t,"config",(function(){return n}));var n={iframeAssetsRoot:"//bsdk.api.ditto.com/default/3.7.1-experiment.5/en-us",iframeOrigin:"bsdk.api.ditto.com",mobileAPIEnabled:!0,mobileHDCF:!0,testMode:!1,authEnabled:!0,locale:"en",partnerId:"default",custom:{}},o=r(1),i=r.n(o),a=r(16),s=r(4),c=r.n(s),u=r(0),l=r.n(u);var d={STANDARD:"STANDARD",FLASH:"FLASH",COMPATIBILITY:"COMPATIBILITY",UNAVAILABLE:"UNAVAILABLE",UNKNOWN:"UNKNOWN",AUTO:"AUTO"};var f={whichFlow:function(e){const t=!(c.a.tablet||c.a.mobile);let r=d.UNKNOWN;!function(e){l.a.on("datauri",t=>{e(!!t&&l.a.fileinput&&l.a.classlist&&l.a.canvas&&l.a.todataurljpeg&&(l.a.flexbox||l.a.flexboxlegacy||l.a.flexboxtweener)&&l.a.filereader&&l.a.xhrresponsetypearraybuffer&&l.a.cors&&l.a.eventlistener&&l.a.atobbtoa)})}(n=>{n?(r=d.COMPATIBILITY,!function(){const e=c.a.mac&&c.a.safari&&c.a.version<"11.1"||c.a.ios&&c.a.safari&&c.a.osversion<"11.3",t=(void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||l.a.getusermedia)&&l.a.typedarrays&&l.a.video&&void 0!==window.Uint8ClampedArray&&void 0!==window.Uint8Array&&void 0!==window.Uint32Array&&!!new Blob;return!e&&t}()?(l.a.flash&&l.a.audio&&(l.a.customevent||void 0!==document.createEvent)&&new Blob||t)&&(r=d.FLASH):r=d.STANDARD):r=d.UNAVAILABLE,e(r)})}};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}class h{constructor(e=null){this.targetId="".concat(e,"-").concat(h.counter+=1),this.iframe=null,this.iframeOrigin="".concat(window.location.protocol,"//").concat(window.ditto.config.iframeOrigin),this.isMobile();window.addEventListener("message",e=>{e.origin===this.iframeOrigin&&e.data.target===this.targetId&&this.onMessage(e.data)},!1)}postMessage(e){const t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({target:this.targetId},e);this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(t,this.iframeOrigin)}onMessage(){}isMobile(){const e="ditto-mobile-api";f.whichFlow(t=>{t!==d.COMPATIBILITY||document.documentElement.classList.contains(e)||document.documentElement.classList.add(e)})}}h.counter=0;var m=h;var g=function(e=null,t=[],r=134){const n=t[0],o=t[1],i=t[2]-n,a=e.width,s=r/i,c=s*n;return{top:"".concat(-(s*o),"px"),left:"".concat(-c,"px"),width:"".concat(a*s,"px")}};var v=function(e=null,t={}){Object.keys(t).forEach(r=>{e.style&&(e.style[r]=t[r])})};const b=65535;var y=function(e,t="image/jpeg"){const r=new Uint8Array(e),n=[];for(let e=0;e*b<r.length;e+=1){const t=r.subarray(e*b,(e+1)*b),o=String.fromCharCode(...t);n.push(o)}const o=btoa(n.join(""));return"data:".concat(t,";base64,").concat(o)};var O={INITIALIZE:"INITIALIZE",RESIZE:"RESIZE"};var S={INITIALIZED:"INITIALIZED",DIMENSIONS:"DIMENSIONS"};var E={INITIALIZED:"INITIALIZED",SUCCESS:"SUCCESS",FAILURE:"FAILURE",ONCLICK:"ONCLICK"};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const w={disablePreview:!1};class R extends m{constructor(e={},t={}){if(super("tryon"),this.destroy=()=>{this.iframe.removeEventListener("load",this.onIframeLoad),this.destroyIframe()},this.destroyIframe=()=>{const e=document.querySelector(this.config.selector),t=e.querySelector('iframe[name="ditto-iframe"]');t&&e.removeChild(t)},this.onIframeLoad=()=>{this.postMessage({event:R.API_EVENT_TYPE.INITIALIZE,sku:this.activeSku,serverNetloc:this.config.serverNetloc,partnerId:this.config.partnerId,dittoId:this.config.dittoId,accessKeyId:this.config.accessKeyId,signature:this.config.signature,origin:window.location.origin,disablePreview:this.config.disablePreview,viewportWidth:this.getContainerWidth(),custom:window.ditto.config.custom})},!e.serverNetloc||"string"!=typeof e.serverNetloc)throw new Error("Tryon ERROR: config.serverNetloc is a required parameter.");this.config=A(A({},w),e),this.callbacks=t,this.iframe=null,this.activeSku=null,this.config.serverNetloc=this.config.serverNetloc.replace(/\/$/,""),this.ApiManager=Object(a.ClientSideApiManager)({serverNetloc:this.config.serverNetloc,accessKeyId:this.config.accessKeyId,signature:this.config.signature,dittoId:this.config.dittoId}),e.thumbnailSelector&&this.getDittoThumbnail(e.thumbnailSelector,e.sku),this.setSku(this.config.sku)}createIframe(){const e=document.querySelector(this.config.selector),t=document.createElement("iframe");t.name="ditto-iframe",t.width="100%",t.height="100%",t.frameBorder="0",t.scrolling="no",t.allowTransparency=!0,t.classList.add("DittoSandbox"),t.title="Ditto TryOn",this.destroyIframe(),this.iframe=t,e.appendChild(t)}setSku(e=null){this.activeSku=e||void 0,this.createIframe(),this.iframe.addEventListener("load",this.onIframeLoad),this.iframe.src="".concat(window.ditto.config.iframeAssetsRoot,"/tryon.html")}getDittoThumbnail(e=null,t=null){const r=document.querySelector(e);let n;return v(r,{width:"134px",height:"100px",position:"relative"}),this.ApiManager.getThumbnail().then(e=>{const{data:o}=e;if("success"!==o.status)return;({bbox:n}=o);const{offset:i}=o,a=document.createElement("img");return a.src=o.image_data_uri,v(a,{position:"absolute",left:"".concat(i.x,"px"),top:0}),r.appendChild(a),this.ApiManager.getFrontalFrame({product_id:t})}).then(e=>{const{data:t}=e,o=document.createElement("img");o.onload=()=>{const e=g(o,n);v(o,A({position:"absolute",opacity:0,transition:"opacity .4s"},e)),r.appendChild(o),setTimeout(()=>{o.style.opacity=1},0)},o.src=y(t)}).catch(()=>{const e=document.createElement("img");r.appendChild(e)})}shouldFireCallback(e){return e in R.TRYON_CALLBACK_EVENT_TYPE&&e.toLowerCase()in this.callbacks}getContainerWidth(){return document.querySelector(this.config.selector).offsetWidth}onMessage(e={}){this.shouldFireCallback(e.event)&&this.callbacks[e.event.toLowerCase()](e.details)}static get API_EVENT_TYPE(){return Object.freeze(O)}static get TRYON_EVENT_TYPE(){return Object.freeze(S)}static get TRYON_CALLBACK_EVENT_TYPE(){return Object.freeze(E)}}var _=R;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e={},t=[]){return Object.keys(e).filter(e=>t.includes(e)).reduce((t,r)=>I(I({},t),{},{[r]:e[r]}),{})};var j={SUCCESS:"SUCCESS",FAILURE:"FAILURE",PROGRESS:"PROGRESS",CLOSE:"CLOSE",RE_RECORD:"RE_RECORD",FACEIQ_RESULT:"FACEIQ_RESULT"};var N={CLOSE:"CLOSE",SUCCESS:"SUCCESS",FAILURE:"FAILURE",PROGRESS:"PROGRESS",RE_RECORD:"RE_RECORD",FACEIQ_RESULT:"FACEIQ_RESULT"};var L={[j.SUCCESS]:["dittoId","realScale","accessKeyId","signature"],[j.FAILURE]:["status","description"],[j.PROGRESS]:["status","description","value","sessionId"],[j.CLOSE]:["description"],[j.FACEIQ_RESULT]:["faceShape","faceWidth","prescriptionInfo"]};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const U={disableScale:!1,forceScale:!1,enableClose:!0,enableFaceAnalysis:!1};class F extends m{constructor(e={},t={}){if(super("creation"),this.destroy=()=>{const e=document.querySelector('iframe[name="creation-iframe"]');e&&e.parentElement.removeChild(e),this.iframe=null},this.onIframeLoad=()=>{const{config:e}=this,t=e.serverNetloc.replace(/\/$/,"");e.faServerNetloc&&e.faServerNetloc.length||(e.faServerNetloc=t.replace(/(\/\/[a-zA-Z-]*)(vto)([a-zA-Z-]*\..*)/,"$1face$3")),this.postMessage({event:F.API_EVENT_TYPE.INITIALIZE,config:M(M({},window.ditto.config),{},{serverNetloc:t,faServerNetloc:e.faServerNetloc,accessKeyId:e.accessKeyId,clientSignature:e.clientSignature,partnerId:e.partnerId,font:e.font,flowType:this.flowType,targetId:this.targetId,parentOrigin:window.location.origin,initializeStart:this.initializeStart,disableScale:e.disableScale,forceScale:e.forceScale,enableClose:e.enableClose,enableFaceAnalysis:e.enableFaceAnalysis,faceAnalysisData:e.faceAnalysisData})})},!e.serverNetloc||"string"!=typeof e.serverNetloc)throw new Error("Creation ERROR: config.serverNetloc is a required parameter.");this.config=M(M({},U),e),this.callbacks=t,this.iframe=null,this.initializeStart=null,this.flowType=null,this.initializeIframe()}initializeIframe(){this.destroy(),this.initializeStart=Date.now();const e=document.createElement("iframe");e.name="creation-iframe",e.frameBorder="0",e.classList.add("DittoSandbox"),e.id="creation-iframe",e.allow="camera; autoplay",e.title="Ditto Creation",this.iframe=e,this.asyncUpdateIframe()}asyncUpdateIframe(){f.whichFlow(e=>{if(this.flowType=this.config.flow||e,this.iframe.src="".concat(window.ditto.config.iframeAssetsRoot,"/creation-"),this.flowType===d.COMPATIBILITY)this.iframe.width="100%",this.iframe.height="100%",this.iframe.src+="compatibility.html",v(this.iframe,{position:"fixed",left:"0",top:"0"}),document.body.appendChild(this.iframe);else{this.iframe.width="100%",this.iframe.height="600px",this.flowType===d.FLASH?this.iframe.src+="flash.html":this.flowType===d.AUTO?this.iframe.src+="automation.html":this.iframe.src+="standard.html",this.config.enableFaceAnalysis&&(this.iframe.src=this.iframe.src.replace(".html","-fa.html"));document.querySelector(this.config.selector).appendChild(this.iframe)}this.iframe.addEventListener("load",this.onIframeLoad)})}shrinkIframe(){this.iframe&&(this.iframe.width="1",this.iframe.height="1",v(this.iframe,{position:"absolute",left:"0",top:"0"}))}callbackExists(e){return e in F.CREATION_CALLBACK_EVENT_TYPE&&e.toLowerCase()in this.callbacks}tryFireCallback(e={}){const{event:t}=e;if(this.callbackExists(t)){const r=C(e,L[t]);this.callbacks[t.toLowerCase()](r)}}onMessage(e={}){const{event:t}=e;switch(t){case N.SUCCESS:this.flowType===d.COMPATIBILITY&&this.shrinkIframe();break;case j.CLOSE:this.destroy()}this.tryFireCallback(e)}static get CREATION_EVENT_TYPE(){return Object.freeze(j)}static get API_EVENT_TYPE(){return Object.freeze(O)}static get CREATION_CALLBACK_EVENT_TYPE(){return Object.freeze(N)}static get CREATION_EVENT_FILTERS(){return Object.freeze(L)}}var D=F;const k="/api/1.3",B=e=>e.replace(/^https?:/,"").replace(/^(?!\/\/)\/?/,"//").replace(/\/$/,""),z=(e,t)=>({accept:"application/json","X-Ditto-Access-Key-Id":e,"X-Ditto-Signature":t}),G=(e,t,r)=>{const{serverNetloc:n,accessKeyId:o,clientSignature:i}=e,a=B(n),s="".concat(a).concat(k,"/products/"),c=z(o,i);fetch(s,{headers:c}).then(e=>e.json()).then(e=>{"function"==typeof t?t(e):console.error("No callback function was passed into api.getProducts",e)}).catch(e=>{"function"==typeof r?r(e):console.error(e)})},q=(e,t,r)=>{const{serverNetloc:n,accessKeyId:o,signature:i,dittoId:a,sku:s,size:c}=e,u=B(n),l=z(o,i),d="".concat(u).concat(k,"/dittos/").concat(a,"/frontal-frame/"),f=new URLSearchParams;s&&f.set("product_id",s),c&&(Array.isArray(c)?f.set("size",c.join(",")):f.set("size",c)),fetch("".concat(d,"?").concat(f),{headers:l}).then(e=>e.blob()).then(e=>{"function"==typeof t?t(e):console.error("No callback function was passed into api.getFrontalFrame",e)}).catch(e=>{"function"==typeof r?r(e):console.error(e)})};var V=(()=>{const e=/(?:CriOS|Chrome).*?Mobile/i,t=/(iPhone|iPad|iPod)[^\)]+OS ([\d+_]+)/i,r=navigator.userAgent,n=function(e){return e.test(r)},o=function(){return u.touchevents&&u.fileinput},i=function(){return o()&&n(t)},a=function(){return o()&&n(e)},s=function(){return!!(window.document.documentElement.clientWidth<=719)};return{maybeMobile:o(),maybeMobileChrome:a(),maybeAndroid:o()&&(-1!==r.indexOf("Android")||a())&&!i(),maybeIOS:i(),maybeIPhone:i()&&-1!==r.indexOf("iPhone"),iOSVersion:function(){if(i()){return t.exec(navigator.userAgent)[2].split("_").map(e=>parseInt(e,10))}}(),isSmallScreen:s(),isMobile:i()||o()&&s(),maybeDesktopSafari:function(){return!u.touchevents&&void 0!==document.body.style.webkitTransformStyle&&void 0===document.body.style.MozTransformStyle&&void 0===navigator.mozGetUserMedia&&void 0===document.body.style.msTransformStyle&&void 0===navigator.webkitGetUserMedia}}})();let H=!1,K={browser:null,mobile:null,swf:null,gum:null};f.whichFlow(e=>{H=e!==d.UNAVAILABLE&&e!==d.UNKNOWN,K={browser:H,mobile:V.maybeMobile,swf:e===d.FLASH,gum:e===d.STANDARD}});const Y={checkBrowser:()=>K,isSupported:()=>H,DittoCreation:D,TryOn:_,getProducts:G,getFrontalFrame:q};fetch("https://bsdk.api.ditto.com/config/global.json").then(e=>e.json()).then(e=>{n.custom=e})}]);