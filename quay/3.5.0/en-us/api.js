window.ditto=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=61)}([function(e,t){var n,r,o;n=window,r="Modernizr"in n,o=n.Modernizr,function(c,f,d){var s=[],e={_version:"3.7.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){s.push({name:e,fn:t,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},u=function(){};u.prototype=e,u=new u;var l=[];function p(e,t){return typeof e===t}var m=f.documentElement,h="svg"===m.nodeName.toLowerCase();function v(e){return"function"!=typeof f.createElement?f.createElement(e):h?f.createElementNS.call(f,"http://www.w3.org/2000/svg",e):f.createElement.apply(f,arguments)}u.addTest("audio",function(){var e=v("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"')||e.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t}),u.addTest("canvas",function(){var e=v("canvas");return!(!e.getContext||!e.getContext("2d"))});var t=v("canvas");u.addTest("todataurljpeg",function(){return!!u.canvas&&0===t.toDataURL("image/jpeg").indexOf("data:image/jpeg")}),u.addTest("todataurlpng",function(){return!!u.canvas&&0===t.toDataURL("image/png").indexOf("data:image/png")}),u.addTest("todataurlwebp",function(){var e=!1;try{e=!!u.canvas&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}catch(e){}return e}),u.addTest("cors","XMLHttpRequest"in c&&"withCredentials"in new XMLHttpRequest);var n="Moz O ms Webkit",g=e._config.usePrefixes?n.split(" "):[];e._cssomPrefixes=g;var r={elem:v("modernizr")};u._q.push(function(){delete r.elem});var y={style:r.elem.style};function b(){var e=f.body;return e||((e=v(h?"svg":"body")).fake=!0),e}function o(e,t,n,r){var o,i,a,s,c="modernizr",u=v("div"),l=b();if(parseInt(n,10))for(;n--;)(a=v("div")).id=r?r[n]:c+(n+1),u.appendChild(a);return(o=v("style")).type="text/css",o.id="s"+c,(l.fake?l:u).appendChild(o),l.appendChild(u),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(f.createTextNode(e)),u.id=c,l.fake&&(l.style.background="",l.style.overflow="hidden",s=m.style.overflow,m.style.overflow="hidden",m.appendChild(l)),i=t(u,e),l.fake?(l.parentNode.removeChild(l),m.style.overflow=s,m.offsetHeight):u.parentNode.removeChild(u),!!i}function i(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function S(e,t){var n=e.length;if("CSS"in c&&"supports"in c.CSS){for(;n--;)if(c.CSS.supports(i(e[n]),t))return!0;return!1}if("CSSSupportsRule"in c){for(var r=[];n--;)r.push("("+i(e[n])+":"+t+")");return o("@supports ("+(r=r.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"===function(e,t,n){var r;if("getComputedStyle"in c){r=getComputedStyle.call(c,e,t);var o=c.console;null!==r?n&&(r=r.getPropertyValue(n)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else r=!t&&e.currentStyle&&e.currentStyle[n];return r}(e,null,"position")})}return d}u._q.unshift(function(){delete y.style});var a,E,O=e._config.usePrefixes?n.toLowerCase().split(" "):[];function A(e,t){return function(){return e.apply(t,arguments)}}function T(e,t,n,r,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+g.join(i+" ")+i).split(" ");return p(t,"string")||p(t,"undefined")?function(e,t,n,r){if(r=!p(r,"undefined")&&r,!p(n,"undefined")){var o=S(e,n);if(!p(o,"undefined"))return o}for(var i,a,s,c,u,l=["modernizr","tspan","samp"];!y.style&&l.length;)i=!0,y.modElem=v(l.shift()),y.style=y.modElem.style;function f(){i&&(delete y.style,delete y.modElem)}for(s=e.length,a=0;a<s;a++)if(c=e[a],u=y.style[c],~(""+c).indexOf("-")&&(c=c.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")),y.style[c]!==d){if(r||p(n,"undefined"))return f(),"pfx"!==t||c;try{y.style[c]=n}catch(e){}if(y.style[c]!==u)return f(),"pfx"!==t||c}return f(),!1}(a,t,r,o):function(e,t,n){var r;for(var o in e)if(e[o]in t)return!1===n?e[o]:p(r=t[e[o]],"function")?A(r,n||t):r;return!1}(a=(e+" "+O.join(i+" ")+i).split(" "),t,n)}function w(e,t,n){return T(e,d,d,t,n)}function R(e,t){if("object"==typeof e)for(var n in e)a(e,n)&&R(n,e[n]);else{var r=(e=e.toLowerCase()).split("."),o=u[r[0]];if(2===r.length&&(o=o[r[1]]),void 0!==o)return u;t="function"==typeof t?t():t,1===r.length?u[r[0]]=t:(!u[r[0]]||u[r[0]]instanceof Boolean||(u[r[0]]=new Boolean(u[r[0]])),u[r[0]][r[1]]=t),function(e){var t=m.className,n=u._config.classPrefix||"";if(h&&(t=t.baseVal),u._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}u._config.enableClasses&&(0<e.length&&(t+=" "+n+e.join(" "+n)),h?m.className.baseVal=t:m.className=t)}([(t&&!1!==t?"":"no-")+r.join("-")]),u._trigger(e,t)}return u}function _(e){if("undefined"==typeof XMLHttpRequest)return!1;var t=new XMLHttpRequest;t.open("get","/",!0);try{t.responseType=e}catch(e){return!1}return"response"in t&&t.responseType===e}e._domPrefixes=O,e.testAllProps=T,e.testAllProps=w,u.addTest("flexbox",w("flexBasis","1px",!0)),u.addTest("flexboxlegacy",w("boxDirection","reverse",!0)),u.addTest("flexboxtweener",w("flexAlign","end",!0)),u.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&w("transform","scale(1)",!0)}),u.addTest("customevent","CustomEvent"in c&&"function"==typeof c.CustomEvent),u.addTest("classlist","classList"in m),u.addTest("eventlistener","addEventListener"in c),u.addTest("filereader",!!(c.File&&c.FileList&&c.FileReader)),a=p(E={}.hasOwnProperty,"undefined")||p(E.call,"undefined")?function(e,t){return t in e&&p(e.constructor.prototype[t],"undefined")}:function(e,t){return E.call(e,t)},e._l={},e.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),u.hasOwnProperty(e)&&setTimeout(function(){u._trigger(e,u[e])},0)},e._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e]}},u._q.push(function(){e.addTest=R}),u.addAsyncTest(function(){function e(e){m.contains(e)||m.appendChild(e)}function t(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)}function n(e,t){var n=!!e;if(n&&((n=new Boolean(n)).blocked="blocked"===e),R("flash",function(){return n}),t&&s.contains(t)){for(;t.parentNode!==s;)t=t.parentNode;s.removeChild(t)}}var r;try{r="ActiveXObject"in c&&"Pan"in new c.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||r)||h)n(!1);else{var o,i,a=v("embed"),s=b();if(a.type="application/x-shockwave-flash",s.appendChild(a),!("Pan"in a||r))return e(s),n("blocked",a),void t(s);o=function(){if(e(s),!m.contains(s))return s=f.body||s,(a=v("embed")).type="application/x-shockwave-flash",s.appendChild(a),setTimeout(o,1e3);m.contains(a)?(i=a.style.cssText,n(""===i||"blocked",a)):n("blocked"),t(s)},setTimeout(o,10)}}),u.addTest("fileinput",function(){var e=navigator.userAgent;if(e.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)||e.match(/\swv\).+(chrome)\/([\w\.]+)/i))return!1;var t=v("input");return t.type="file",!t.disabled}),u.addTest("imgcrossorigin","crossOrigin"in v("img")),u.addTest("xhrresponsetypearraybuffer",_("arraybuffer")),u.addTest("xhrresponsetypejson",_("json"));var I=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];e._prefixes=I;var P,C=(P=c.matchMedia||c.msMatchMedia)?function(e){var t=P(e);return t&&t.matches||!1}:function(e){var t=!1;return o("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"===(c.getComputedStyle?c.getComputedStyle(e,null):e.currentStyle).position}),t};e.mq=C,u.addTest("touchevents",function(){if("ontouchstart"in c||c.TouchEvent||c.DocumentTouch&&f instanceof DocumentTouch)return!0;var e=["(",I.join("touch-enabled),("),"heartz",")"].join("");return C(e)}),u.addTest("typedarrays","ArrayBuffer"in c),u.addAsyncTest(function(){-1!==navigator.userAgent.indexOf("MSIE 7.")&&setTimeout(function(){R("datauri",!1)},10);var e=new Image;e.onerror=function(){R("datauri",!1)},e.onload=function(){1===e.width&&1===e.height?function(){var e=new Image;e.onerror=function(){R("datauri",!0),u.datauri=new Boolean(!0),u.datauri.over32kb=!1},e.onload=function(){R("datauri",!0),u.datauri=new Boolean(!0),u.datauri.over32kb=1===e.width&&1===e.height};for(var t="R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.length<33e3;)t="\r\n"+t;e.src="data:image/gif;base64,"+t}():R("datauri",!1)},e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}),u.addTest("video",function(){var e=v("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(e){}return t}),u.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),u.addTest("atobbtoa","atob"in c&&"btoa"in c,{aliases:["atob-btoa"]}),function(){var e,t,n,r,o,i;for(var a in s)if(s.hasOwnProperty(a)){if(e=[],(t=s[a]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=p(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(i=e[o].split(".")).length?u[i[0]]=r:(!u[i[0]]||u[i[0]]instanceof Boolean||(u[i[0]]=new Boolean(u[i[0]])),u[i[0]][i[1]]=r),l.push((r?"":"no-")+i.join("-"))}}(),delete e.addTest,delete e.addAsyncTest;for(var L=0;L<u._q.length;L++)u._q[L]();c.Modernizr=u}(n,document),e.exports=n.Modernizr,r?n.Modernizr=o:delete n.Modernizr},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var o=n(14),r=n(29),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function n(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=n(r[t],e):r[t]=e}for(var t=0,o=arguments.length;t<o;t++)u(arguments[t],e);return r},extend:function(n,e,r){return u(e,function(e,t){n[t]=r&&"function"==typeof e?o(e,r):e}),n},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r;r=function(){var T=!0;function a(n){function e(e){var t=n.match(e);return t&&1<t.length&&t[1]||""}function t(e){var t=n.match(e);return t&&1<t.length&&t[2]||""}var r,o=e(/(ipod|iphone|ipad)/i).toLowerCase(),i=!/like android/i.test(n)&&/android/i.test(n),a=/nexus\s*[0-6]\s*/i.test(n),s=!a&&/nexus\s*[0-9]+/i.test(n),c=/CrOS/.test(n),u=/silk/i.test(n),l=/sailfish/i.test(n),f=/tizen/i.test(n),d=/(web|hpw)(o|0)s/i.test(n),p=/windows phone/i.test(n),m=(/SamsungBrowser/i.test(n),!p&&/windows/i.test(n)),h=!o&&!u&&/macintosh/i.test(n),v=!i&&!l&&!f&&!d&&/linux/i.test(n),g=t(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),y=e(/version\/(\d+(\.\d+)?)/i),b=/tablet/i.test(n)&&!/tablet pc/i.test(n),S=!b&&/[^-]mobi/i.test(n),E=/xbox/i.test(n);/opera/i.test(n)?r={name:"Opera",opera:T,version:y||e(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(n)?r={name:"Opera",opera:T,version:e(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||y}:/SamsungBrowser/i.test(n)?r={name:"Samsung Internet for Android",samsungBrowser:T,version:y||e(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(n)?r={name:"NAVER Whale browser",whale:T,version:e(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(n)?r={name:"MZ Browser",mzbrowser:T,version:e(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(n)?r={name:"Opera Coast",coast:T,version:y||e(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(n)?r={name:"Focus",focus:T,version:e(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(n)?r={name:"Yandex Browser",yandexbrowser:T,version:y||e(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(n)?r={name:"UC Browser",ucbrowser:T,version:e(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(n)?r={name:"Maxthon",maxthon:T,version:e(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(n)?r={name:"Epiphany",epiphany:T,version:e(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(n)?r={name:"Puffin",puffin:T,version:e(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(n)?r={name:"Sleipnir",sleipnir:T,version:e(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(n)?r={name:"K-Meleon",kMeleon:T,version:e(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:T},g?(r.msedge=T,r.version=g):(r.msie=T,r.version=e(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(n)?r={name:"Internet Explorer",msie:T,version:e(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:T,chromeBook:T,chrome:T,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(n)?r={name:"Microsoft Edge",msedge:T,version:g}:/vivaldi/i.test(n)?r={name:"Vivaldi",vivaldi:T,version:e(/vivaldi\/(\d+(\.\d+)?)/i)||y}:l?r={name:"Sailfish",osname:"Sailfish OS",sailfish:T,version:e(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(n)?r={name:"SeaMonkey",seamonkey:T,version:e(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(n)?(r={name:"Firefox",firefox:T,version:e(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(n)&&(r.firefoxos=T,r.osname="Firefox OS")):u?r={name:"Amazon Silk",silk:T,version:e(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(n)?r={name:"PhantomJS",phantom:T,version:e(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(n)?r={name:"SlimerJS",slimer:T,version:e(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(n)||/rim\stablet/i.test(n)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:T,version:y||e(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(r={name:"WebOS",osname:"WebOS",webos:T,version:y||e(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(n)&&(r.touchpad=T)):/bada/i.test(n)?r={name:"Bada",osname:"Bada",bada:T,version:e(/dolfin\/(\d+(\.\d+)?)/i)}:f?r={name:"Tizen",osname:"Tizen",tizen:T,version:e(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||y}:/qupzilla/i.test(n)?r={name:"QupZilla",qupzilla:T,version:e(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||y}:/chromium/i.test(n)?r={name:"Chromium",chromium:T,version:e(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||y}:/chrome|crios|crmo/i.test(n)?r={name:"Chrome",chrome:T,version:e(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?r={name:"Android",version:y}:/safari|applewebkit/i.test(n)?(r={name:"Safari",safari:T},y&&(r.version=y)):o?(r={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},y&&(r.version=y)):r=/googlebot/i.test(n)?{name:"Googlebot",googlebot:T,version:e(/googlebot\/(\d+(\.\d+))/i)||y}:{name:e(/^(.*)\/(.*) /),version:t(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(n)?(/(apple)?webkit\/537\.36/i.test(n)?(r.name=r.name||"Blink",r.blink=T):(r.name=r.name||"Webkit",r.webkit=T),!r.version&&y&&(r.version=y)):!r.opera&&/gecko\//i.test(n)&&(r.name=r.name||"Gecko",r.gecko=T,r.version=r.version||e(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!i&&!r.silk?!r.windowsphone&&o?(r[o]=T,r.ios=T,r.osname="iOS"):h?(r.mac=T,r.osname="macOS"):E?(r.xbox=T,r.osname="Xbox"):m?(r.windows=T,r.osname="Windows"):v&&(r.linux=T,r.osname="Linux"):(r.android=T,r.osname="Android");var O="";r.windows?O=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(e(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?O=e(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?O=(O=e(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):o?O=(O=e(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):i?O=e(/android[ \/-](\d+(\.\d+)*)/i):r.webos?O=e(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?O=e(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?O=e(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(O=e(/tizen[\/\s](\d+(\.\d+)*)/i)),O&&(r.osversion=O);var A=!r.windows&&O.split(".")[0];return b||s||"ipad"==o||i&&(3==A||4<=A&&!S)||r.silk?r.tablet=T:(S||"iphone"==o||"ipod"==o||i||a||r.blackberry||r.webos||r.bada)&&(r.mobile=T),r.msedge||r.msie&&10<=r.version||r.yandexbrowser&&15<=r.version||r.vivaldi&&1<=r.version||r.chrome&&20<=r.version||r.samsungBrowser&&4<=r.version||r.whale&&1===w([r.version,"1.0"])||r.mzbrowser&&1===w([r.version,"6.0"])||r.focus&&1===w([r.version,"1.0"])||r.firefox&&20<=r.version||r.safari&&6<=r.version||r.opera&&10<=r.version||r.ios&&r.osversion&&6<=r.osversion.split(".")[0]||r.blackberry&&10.1<=r.version||r.chromium&&20<=r.version?r.a=T:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=T:r.x=T,r}var s=a("undefined"!=typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function o(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function w(e){for(var n=Math.max(r(e[0]),r(e[1])),t=o(e,function(e){var t=n-r(e);return o((e+=new Array(1+t).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});0<=--n;){if(t[0][n]>t[1][n])return 1;if(t[0][n]!==t[1][n])return-1;if(0===n)return 0}}function i(e,t,n){var r=s;"string"==typeof t&&(n=t,t=void 0),void 0===t&&(t=!1),n&&(r=a(n));var o=""+r.version;for(var i in e)if(e.hasOwnProperty(i)&&r[i]){if("string"!=typeof e[i])throw new Error("Browser version in the minVersion map should be a string: "+i+": "+String(e));return w([o,e[i]])<0}return t}return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=w,s.check=function(e,t,n){return!i(e,t,n)},s._detect=a,s.detect=a,s},e.exports?e.exports=r():n(57)("bowser",r)},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"API_CALL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BASE_URL",{enumerable:!0,get:function(){return i.BASE_URL}}),Object.defineProperty(t,"SERVICES",{enumerable:!0,get:function(){return i.SERVICES}}),Object.defineProperty(t,"HEADER",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"RESPONSE",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ROUTE",{enumerable:!0,get:function(){return c.default}});var o=r(n(47)),i=n(19),a=r(n(48)),s=r(n(49)),c=r(n(20))},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){var o=n(1);e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}},function(e,t,n){var r=n(23),o=n(13);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},function(e,t,n){var r=n(24);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(s,e,c){"use strict";(function(e){var n=c(2),r=c(32),t={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,a={adapter:("undefined"!=typeof XMLHttpRequest?i=c(15):void 0!==e&&(i=c(15)),i),transformRequest:[function(e,t){return r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){a.headers[e]={}}),n.forEach(["post","put","patch"],function(e){a.headers[e]=n.merge(t)}),s.exports=a}).call(this,c(31))},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";e.exports=function(n,r){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(r,e)}}},function(e,t,l){"use strict";var f=l(2),d=l(33),p=l(35),m=l(36),h=l(37),v=l(16);e.exports=function(u){return new Promise(function(n,r){var o=u.data,i=u.headers;f.isFormData(o)&&delete i["Content-Type"];var a=new XMLHttpRequest;if(u.auth){var e=u.auth.username||"",t=u.auth.password||"";i.Authorization="Basic "+btoa(e+":"+t)}if(a.open(u.method.toUpperCase(),p(u.url,u.params,u.paramsSerializer),!0),a.timeout=u.timeout,a.onreadystatechange=function(){if(a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in a?m(a.getAllResponseHeaders()):null,t={data:u.responseType&&"text"!==u.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:e,config:u,request:a};d(n,r,t),a=null}},a.onerror=function(){r(v("Network Error",u,null,a)),a=null},a.ontimeout=function(){r(v("timeout of "+u.timeout+"ms exceeded",u,"ECONNABORTED",a)),a=null},f.isStandardBrowserEnv()){var s=l(38),c=(u.withCredentials||h(u.url))&&u.xsrfCookieName?s.read(u.xsrfCookieName):void 0;c&&(i[u.xsrfHeaderName]=c)}if("setRequestHeader"in a&&f.forEach(i,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:a.setRequestHeader(t,e)}),u.withCredentials&&(a.withCredentials=!0),u.responseType)try{a.responseType=u.responseType}catch(e){if("json"!==u.responseType)throw e}"function"==typeof u.onDownloadProgress&&a.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(e){a&&(a.abort(),r(e),a=null)}),void 0===o&&(o=null),a.send(o)})}},function(e,t,n){"use strict";var a=n(34);e.exports=function(e,t,n,r,o){var i=new Error(e);return a(i,t,n,r,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICES=t.BASE_URL=void 0;var o,i=r(n(1)),a={VTO:"VTO",FA:"FA"};t.SERVICES=a;var s=(o={},(0,i.default)(o,a.VTO,"/api/1.3/dittos"),(0,i.default)(o,a.FA,"/faceiq/api/1.0/analyses"),o);t.BASE_URL=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={START_SESSION:"/",GET_THUMBNAIL:"/thumbnail",GET_FRONTAL_FRAME:"/frontal-frame",GET_DITTO_URL:"/",GET_STRIP:"/strip",POST_CHUNK:"/creation/chunk",POST_FORM:"/creation/form",COMMIT_SESSION:"/creation/commit",GET_SESSION_STATUS:"/creation/status",FA_ANALYSES:"/",FA_FRONTAL_IMAGE:"/images/frontal",FA_PD:"/client-data/pupillary-distance",FA_CUSTOMERS:"/customers",FA_RECOMMENDATIONS:"/recommendations",FA_RESULTS:"/results",FA_STATUS:"/status"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClientSideApiManager",{enumerable:!0,get:function(){return r.ClientSideApiManager}}),Object.defineProperty(t,"TryonApiManager",{enumerable:!0,get:function(){return r.TryonApiManager}}),Object.defineProperty(t,"RecorderApiManager",{enumerable:!0,get:function(){return r.RecorderApiManager}}),Object.defineProperty(t,"CompatibilityApiManager",{enumerable:!0,get:function(){return r.CompatibilityApiManager}}),Object.defineProperty(t,"FacialAnalysisApiManager",{enumerable:!0,get:function(){return r.FacialAnalysisApiManager}}),Object.defineProperty(t,"HEADER",{enumerable:!0,get:function(){return o.HEADER}}),Object.defineProperty(t,"RESPONSE",{enumerable:!0,get:function(){return o.RESPONSE}});var r=n(25),o=n(5)},function(e,t,n){var r=n(58),o=n(59),i=n(60);e.exports=function(e){return r(e)||o(e)||i()}},function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},function(n,e){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.FacialAnalysisApiManager=t.CompatibilityApiManager=t.RecorderApiManager=t.TryonApiManager=t.ClientSideApiManager=void 0;var o=r(n(26)),i=n(52),a=n(5);t.ClientSideApiManager=function(e){return Object.assign({},o.default,{get:i.get,getThumbnail:i.getThumbnail,getFrontalFrame:i.getFrontalFrame},e)};t.TryonApiManager=function(e){return Object.assign({},o.default,{get:i.get,getDittoUrl:i.getDittoUrl,getStrip:i.getStrip},e)};t.RecorderApiManager=function(e){return Object.assign({},o.default,{post:i.post,startSession:i.startSession,postFrames:i.postFrames,commitSession:i.commitSession,getSessionStatus:i.getSessionStatus},e)};t.CompatibilityApiManager=function(e){return Object.assign({},o.default,{post:i.post,startSession:i.startSession,postChunk:i.postChunk,postForm:i.postForm,commitSession:i.commitSession,getSessionStatus:i.getSessionStatus},e)};t.FacialAnalysisApiManager=function(e){return Object.assign({},o.default,{get:i.get,getCustomerFace:i.getCustomerFace,getRecommendations:i.getRecommendations,getAnalysisResults:i.getAnalysisResults,getAnalysisStatus:i.getAnalysisStatus,post:i.post,postCustomer:i.postCustomer,postAnalyses:i.postAnalyses,put:i.put,putFrontalImage:i.putFrontalImage,putPupillaryDistance:i.putPupillaryDistance},e,{service:a.SERVICES.FA})}},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(8)),a=r(n(27)),s=r(n(46)),c=n(5),o={service:c.SERVICES.VTO,setAuth:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t?t:null;n&&(this.accessKeyId=n),r&&(this.signature=r),n||r||(this.accessKeyId=null,this.signature=null)},authEnabled:function(){return!!this.accessKeyId&&!!this.signature},setServerNetloc:function(e){this.serverNetloc=e},setDittoId:function(e){this.dittoId=e},getBaseURL:function(){var e=this.serverNetloc,t=c.BASE_URL.VTO;return this.service===c.SERVICES.FA&&(e=this.faServerNetloc,t=c.BASE_URL.FA),"".concat(e).concat(t)},getHeaders:function(){var e={};return this.authEnabled()&&(e[c.HEADER.ACCESS_KEY_ID]=this.accessKeyId,e[c.HEADER.SIGNATURE]=this.signature),e},request:function(e,t,n,r){var o=3<arguments.length&&void 0!==r?r:function(e){return e};return a.default.request((0,i.default)({url:e,method:t,baseURL:this.getBaseURL(),headers:this.getHeaders()},n)).then(o).catch(this.onError.bind(this))},onError:function(e){var t=e.response;if(t){var n=Object.keys(t.headers).join(" "),r=new RegExp("\\b".concat(c.HEADER.VCS,"\\b"),"i");if(n.match(r)){var o=t.status,i=t.data;throw new s.default(o,i)}}this.mockError(e)},mockError:function(e){var t=e.response,n={status:"error",detail:"internal-server-error"},r=t?t.status:500;throw a.default.isCancel(e)?(r=499,n.detail="request-cancelled"):t&&t.status&&(n.detail=t.status in this.REQUEST_STATUS?this.REQUEST_STATUS[t.status]:"".concat(t.status,"-status-code")),new s.default(r,n)},REQUEST_TYPE:Object.freeze({POST:"post",GET:"get",PUT:"put"}),REQUEST_STATUS:Object.freeze({400:"bad-request",403:"access-denied",404:"not-found",405:"not-allowed",500:"internal-server-error",503:"service-unavailable"})};t.default=o},function(e,t,n){e.exports=n(28)},function(e,t,n){"use strict";var r=n(2),o=n(14),i=n(30),a=n(12);function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(a);c.Axios=i,c.create=function(e){return s(r.merge(a,e))},c.Cancel=n(18),c.CancelToken=n(44),c.isCancel=n(17),c.all=function(e){return Promise.all(e)},c.spread=n(45),e.exports=c,e.exports.default=c},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var o=n(12),i=n(2),r=n(39),a=n(40);function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}s.prototype.request=function(e,t){"string"==typeof e&&(e=i.merge({url:arguments[0]},t)),(e=i.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var n=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},i.forEach(["delete","get","head","options"],function(n){s.prototype[n]=function(e,t){return this.request(i.merge(t||{},{method:n,url:e}))}}),i.forEach(["post","put","patch"],function(r){s.prototype[r]=function(e,t,n){return this.request(i.merge(n||{},{method:r,url:e,data:t}))}}),e.exports=s},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||l||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var o=n(2);e.exports=function(n,r){o.forEach(n,function(e,t){t!==r&&t.toUpperCase()===r.toUpperCase()&&(n[r]=e,delete n[t])})}},function(e,t,n){"use strict";var o=n(16);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var i=n(2);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(i.isURLSearchParams(t))r=t.toString();else{var o=[];i.forEach(t,function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))}))}),r=o.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},function(e,t,n){"use strict";var i=n(2),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,o={};return e&&i.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(o[t]&&0<=a.indexOf(t))return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o}},function(e,t,n){"use strict";var r,o,i,a=n(2);function s(e){var t=e;return o&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}e.exports=a.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r=s(window.location.href),function(e){var t=a.isString(e)?s(e):e;return t.protocol===r.protocol&&t.host===r.host}):function(){return!0}},function(e,t,n){"use strict";var s=n(2);e.exports=s.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(r)&&a.push("path="+r),s.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(2);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=o},function(e,t,n){"use strict";var r=n(2),o=n(41),i=n(17),a=n(12),s=n(42),c=n(43);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(t){return u(t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return u(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(t,n,e){return r.forEach(e,function(e){t=e(t,n)}),t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(18);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},e.exports=o},function(e,t,n){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e,t){this.status=e,this.data=t}t.default=r},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(19),i=r(n(20)),a=o.BASE_URL.VTO,s=o.BASE_URL.FA,c={START_SESSION:"".concat(a).concat(i.default.START_SESSION),GET_THUMBNAIL:"".concat(a).concat(i.default.GET_THUMBNAIL),GET_FRONTAL_FRAME:"".concat(a).concat(i.default.GET_FRONTAL_FRAME),GET_DITTO_URL:"".concat(a).concat(i.default.GET_DITTO_URL),GET_STRIP:"".concat(a).concat(i.default.GET_STRIP),POST_CHUNK:"".concat(a).concat(i.default.POST_CHUNK),POST_FORM:"".concat(a).concat(i.default.POST_FORM),COMMIT_SESSION:"".concat(a).concat(i.default.COMMIT_SESSION),GET_SESSION_STATUS:"".concat(a).concat(i.default.GET_SESSION_STATUS),FA_POST_ANALYSES:"".concat(s).concat(i.default.FA_ANALYSES),FA_FRONTAL_IMAGES:"".concat(s).concat(i.default.FA_FRONTAL_IMAGE),FA_PD:"".concat(s).concat(i.default.FA_PD),FA_CUSTOMERS:"".concat(s).concat(i.default.FA_CUSTOMERS),FA_RECOMMENDATIONS:"".concat(s).concat(i.default.FA_RECOMMENDATIONS),FA_GET_RESULTS:"".concat(s).concat(i.default.FA_RESULTS),FA_GET_STATUS:"".concat(s).concat(i.default.FA_STATUS)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={ACCESS_KEY_ID:"X-Ditto-Access-Key-Id",SIGNATURE:"X-Ditto-Signature",VCS:"x-ditto-creation-server"};t.default=r},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(50)),i=r(n(51)),a={ERROR:o.default,STATUS:i.default};t.default=a},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LEGACY_ERROR=void 0;var o=r(n(8)),i={DITTO_ALREADY_EXISTS:"ditto-already-exists",NON_SCALE_FRAME_TYPE:"non-scale-frame-type",FRAMES_MISSING:"frames-missing",VIDEO_PROCESSING_ERROR:"video-processing-error"};t.LEGACY_ERROR=i;var a=(0,o.default)({ERROR:"error",INVALID_DITTO_ID_ERROR:"invalid-ditto-id-error",MISSING_PARAMETER:"missing-parameter",INVALID_CHUNK_NUMBER:"invalid-chunk-number",INVALID_CHUNK_TYPE:"invalid-chunk-type",INVALID_CHUNK_LENGTH:"invalid-chunk-length",INVALID_FRAME_COUNT:"invalid-frame-count",FRAME_ERROR:"frame-error",FRAME_INPUT_SIZE_ERROR:"frame-input-size-error",FRAME_INPUT_NOT_IMAGE_ERROR:"frame-input-not-image-error",FRAME_INPUT_NOT_JPEG_ERROR:"frame-input-not-jpeg-error",FRAME_TYPE_NOT_ALLOWED_ERROR:"frame-type-not-allowed-error",FRAME_SIZE_NOT_ALLOWED_ERROR:"frame-size-not-allowed-error",DITTO_COLLISION:"ditto-collision",SESSION_NOT_FOUND:"session-not-found",ALREADY_COMMITTED:"already-committed",COMMIT_IN_PROGRESS:"commit-in-progress",ERROR_TIMED_OUT:"error-timed-out",ERROR_SCALING:"error-scaling",ERROR_DETECTION:"error-detection",INCORRECT_DATA:"incorrect-data",CREATION_STATUS_NOT_FOUND:"creation-status-not-found"},i);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={SUCCESS:"success",ERROR:"error",IN_PROGRESS:"in-progress"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"post",{enumerable:!0,get:function(){return r.post}}),Object.defineProperty(t,"startSession",{enumerable:!0,get:function(){return r.startSession}}),Object.defineProperty(t,"postFrames",{enumerable:!0,get:function(){return r.postFrames}}),Object.defineProperty(t,"postChunk",{enumerable:!0,get:function(){return r.postChunk}}),Object.defineProperty(t,"postForm",{enumerable:!0,get:function(){return r.postForm}}),Object.defineProperty(t,"commitSession",{enumerable:!0,get:function(){return r.commitSession}}),Object.defineProperty(t,"getSessionStatus",{enumerable:!0,get:function(){return r.getSessionStatus}}),Object.defineProperty(t,"postAnalyses",{enumerable:!0,get:function(){return r.postAnalyses}}),Object.defineProperty(t,"postCustomer",{enumerable:!0,get:function(){return r.postCustomer}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return o.put}}),Object.defineProperty(t,"putFrontalImage",{enumerable:!0,get:function(){return o.putFrontalImage}}),Object.defineProperty(t,"putPupillaryDistance",{enumerable:!0,get:function(){return o.putPupillaryDistance}}),Object.defineProperty(t,"get",{enumerable:!0,get:function(){return i.get}}),Object.defineProperty(t,"getThumbnail",{enumerable:!0,get:function(){return i.getThumbnail}}),Object.defineProperty(t,"getFrontalFrame",{enumerable:!0,get:function(){return i.getFrontalFrame}}),Object.defineProperty(t,"getDittoUrl",{enumerable:!0,get:function(){return i.getDittoUrl}}),Object.defineProperty(t,"getStrip",{enumerable:!0,get:function(){return i.getStrip}}),Object.defineProperty(t,"getCustomerFace",{enumerable:!0,get:function(){return i.getCustomerFace}}),Object.defineProperty(t,"getRecommendations",{enumerable:!0,get:function(){return i.getRecommendations}}),Object.defineProperty(t,"getAnalysisResults",{enumerable:!0,get:function(){return i.getAnalysisResults}}),Object.defineProperty(t,"getAnalysisStatus",{enumerable:!0,get:function(){return i.getAnalysisStatus}});var r=n(53),o=n(55),i=n(56)},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.postAnalyses=t.postCustomer=t.getSessionStatus=t.commitSession=t.postForm=t.postChunk=t.postFrames=t.startSession=t.post=void 0;var o=r(n(8)),a=n(5),i=r(n(54));t.post=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},o=2<arguments.length?n:void 0;return this.request(e,this.REQUEST_TYPE.POST,r,o)};t.startSession=function(){var n=this;return this.post(a.ROUTE.START_SESSION).then(function(e){var t=e.data;return t.status===a.RESPONSE.STATUS.SUCCESS&&t.ditto_id&&(n.dittoId=t.ditto_id),t.signature&&(n.signature=t.signature),e})};t.postFrames=function(e,t,n){var r=2<arguments.length&&void 0!==n?n:null,o="/".concat(this.dittoId,"/creation/frames/");return this.post(o,{data:e,params:t,cancelToken:r})};t.postChunk=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},o=2<arguments.length&&void 0!==n?n:null,i="/".concat(this.dittoId).concat(a.ROUTE.POST_CHUNK,"/");return this.post(i,{data:e,params:r,cancelToken:o})};t.postForm=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==n?n:null,i="/".concat(this.dittoId).concat(a.ROUTE.POST_FORM,"/");return this.post(i,{data:e,onUploadProgress:r,cancelToken:o})};t.commitSession=function(e){var t=0<arguments.length&&void 0!==e?e:{},n="/".concat(this.dittoId).concat(a.ROUTE.COMMIT_SESSION,"/"),r=(0,o.default)({},t);return"boolean"==typeof t.mobile&&(r.mobile=Number(r.mobile)),this.post(n,{params:r},i.default)};t.getSessionStatus=function(){var e="/".concat(this.dittoId).concat(a.ROUTE.GET_SESSION_STATUS,"/");return this.post(e)};t.postCustomer=function(e){var t="".concat(a.ROUTE.FA_CUSTOMERS,"/");return this.post(t,{data:e})};t.postAnalyses=function(e){var t="".concat(a.ROUTE.FA_ANALYSES).concat(this.dittoId,"/");return this.post(t,{data:e})}},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function o(e){var t=[s.RESPONSE.ERROR.ALREADY_COMMITTED,s.RESPONSE.ERROR.COMMIT_IN_PROGRESS],n=e.data.status;return t.includes(n)?Promise.reject({response:(0,a.default)({},e,{headers:(0,a.default)({},e.headers,(0,i.default)({},s.HEADER.VCS,"api-manager-mock-vcs")),status:409,data:{status:s.RESPONSE.ERROR.ERROR,detail:n}})}):Promise.resolve(e)}var i=r(n(1)),a=r(n(8)),s=n(5);t.default=o},function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.putPupillaryDistance=t.putFrontalImage=t.put=void 0;var o=r(n(8)),i=n(5);t.put=function(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},o=2<arguments.length?n:void 0;return this.request(e,this.REQUEST_TYPE.PUT,r,o)};t.putFrontalImage=function(e){var t="/".concat(this.dittoId).concat(i.ROUTE.FA_FRONTAL_IMAGE,"/"),n=this.getHeaders();return this.put(t,{data:e,headers:(0,o.default)({},n,{"content-type":e.type})})};t.putPupillaryDistance=function(e){var t="/".concat(this.dittoId).concat(i.ROUTE.FA_PD,"/"),n=this.getHeaders();return this.put(t,{data:e,headers:(0,o.default)({},n,{"content-type":"application/json"})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAnalysisStatus=t.getAnalysisResults=t.getRecommendations=t.getCustomerFace=t.getStrip=t.getDittoUrl=t.getFrontalFrame=t.getThumbnail=t.get=void 0;var r=n(5);t.get=function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.request(e,this.REQUEST_TYPE.GET,n)};t.getThumbnail=function(){var e="/".concat(this.dittoId).concat(r.ROUTE.GET_THUMBNAIL,"/?type=json");return this.get(e)};t.getFrontalFrame=function(e){var t=0<arguments.length&&void 0!==e?e:{},n="/".concat(this.dittoId).concat(r.ROUTE.GET_FRONTAL_FRAME,"/");return this.get(n,{params:t,responseType:"arraybuffer"})};t.getDittoUrl=function(){var e="/".concat(this.dittoId,"/");return this.get(e)};t.getStrip=function(e){var t=0<arguments.length&&void 0!==e?e:{},n="/".concat(this.dittoId).concat(r.ROUTE.GET_STRIP,"/");return this.get(n,{params:t,responseType:"arraybuffer"})};t.getCustomerFace=function(){var e="".concat(r.ROUTE.FA_CUSTOMERS,"/").concat(this.dittoId,"/faces/");return this.get(e)};t.getRecommendations=function(e){var t=0<arguments.length&&void 0!==e?e:{},n="".concat(r.ROUTE.FA_RECOMMENDATIONS,"/by-cid/").concat(this.dittoId,"/");return this.get(n,{params:t})};t.getAnalysisResults=function(){var e="/".concat(this.dittoId).concat(r.ROUTE.FA_RESULTS,"/");return this.get(e)};t.getAnalysisStatus=function(){var e="/".concat(this.dittoId).concat(r.ROUTE.FA_STATUS,"/");return this.get(e)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";n.r(t);var r={iframeAssetsRoot:"//bsdk.api.ditto.com/quay/3.5.0/en-us",iframeOrigin:"bsdk.api.ditto.com",mobileAPIEnabled:!0,mobileHDCF:!0,testMode:!1,authEnabled:!0,locale:"en",partnerId:"quay"},o=n(1),i=n.n(o),a=n(6),s=n.n(a),c=n(7),u=n.n(c),l=n(9),f=n.n(l),d=n(10),p=n.n(d),m=n(11),h=n.n(m),v=n(21),g=n(4),y=n.n(g),b=n(0),S=n.n(b),E={STANDARD:"STANDARD",FLASH:"FLASH",COMPATIBILITY:"COMPATIBILITY",UNAVAILABLE:"UNAVAILABLE",UNKNOWN:"UNKNOWN"};var O={whichFlow:function(t){var n=!(y.a.tablet||y.a.mobile),r=E.UNKNOWN;!function(t){S.a.on("datauri",function(e){t(!!e&&(S.a.fileinput&&S.a.classlist&&S.a.canvas&&S.a.todataurljpeg&&(S.a.flexbox||S.a.flexboxlegacy||S.a.flexboxtweener)&&S.a.filereader&&S.a.xhrresponsetypearraybuffer&&S.a.cors&&S.a.eventlistener&&S.a.atobbtoa))})}(function(e){e?(r=E.COMPATIBILITY,!function(){var e=y.a.mac&&y.a.safari&&y.a.version<"11.1"||y.a.ios&&y.a.safari&&y.a.osversion<"11.3",t=(void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||S.a.getusermedia)&&S.a.typedarrays&&S.a.video&&void 0!==window.Uint8ClampedArray&&void 0!==window.Uint8Array&&void 0!==window.Uint32Array&&!!new Blob;return!e&&t}()?(S.a.flash&&S.a.audio&&(S.a.customevent||void 0!==document.createEvent)&&new Blob||n)&&(r=E.FLASH):r=E.STANDARD):r=E.UNAVAILABLE,t(r)})}};function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var T=function(){function n(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;s()(this,n),this.targetId="".concat(e,"-").concat(n.counter+=1),this.iframe=null,this.iframeOrigin="".concat(window.location.protocol,"//").concat(window.ditto.config.iframeOrigin),this.isMobile();window.addEventListener("message",function(e){e.origin===t.iframeOrigin&&e.data.target===t.targetId&&t.onMessage(e.data)},!1)}return u()(n,[{key:"postMessage",value:function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({target:this.targetId},e);this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(t,this.iframeOrigin)}},{key:"onMessage",value:function(){}},{key:"isMobile",value:function(){var t="ditto-mobile-api";O.whichFlow(function(e){e!==E.COMPATIBILITY||document.documentElement.classList.contains(t)||document.documentElement.classList.add(t)})}}]),n}();T.counter=0;var w=T,R=function(o,i,a){var s,c=this;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a&&!s;clearTimeout(s),s=setTimeout(function(){s=null,a||o.apply(c,t)},i),r&&o.apply(c,t)}},_=function(e,t,n){var r=0<arguments.length&&void 0!==e?e:null,o=1<arguments.length&&void 0!==t?t:[],i=2<arguments.length&&void 0!==n?n:134,a=o[0],s=o[1],c=o[2]-a,u=r.width,l=i/c,f=l*a;return{top:"".concat(-(l*s),"px"),left:"".concat(-f,"px"),width:"".concat(u*l,"px")}},I=function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=1<arguments.length&&void 0!==t?t:{};Object.keys(r).forEach(function(e){n.style&&(n.style[e]=r[e])})},P=n(22),C=n.n(P),L=function(e,t){for(var n=1<arguments.length&&void 0!==t?t:"image/jpeg",r=new Uint8Array(e),o=[],i=0;65535*i<r.length;i+=1){var a=r.subarray(65535*i,65535*(i+1)),s=String.fromCharCode.apply(String,C()(a));o.push(s)}var c=btoa(o.join(""));return"data:".concat(n,";base64,").concat(c)},N={INITIALIZE:"INITIALIZE",RESIZE:"RESIZE",DISALLOW_LOADER:"DISALLOW_LOADER",ALLOW_LOADER:"ALLOW_LOADER"},j={INITIALIZED:"INITIALIZED",DIMENSIONS:"DIMENSIONS"},x={INITIALIZED:"INITIALIZED",SUCCESS:"SUCCESS",FAILURE:"FAILURE",ONCLICK:"ONCLICK"};function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var F={disablePreview:!1},k=function(e){function r(){var n,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(s()(this,r),(n=f()(this,p()(r).call(this,"tryon"))).destroy=function(){window.removeEventListener("resize",n.handleResizeDebounce),n.iframe.removeEventListener("load",n.onIframeLoad),n.destroyIframe()},n.destroyIframe=function(){var e=document.querySelector(n.config.selector),t=e.querySelector('iframe[name="ditto-iframe"]');t&&e.removeChild(t)},n.handleResize=function(){n.postMessage({event:r.API_EVENT_TYPE.RESIZE,viewportWidth:n.getContainerWidth()})},n.onIframeLoad=function(){n.postMessage({event:r.API_EVENT_TYPE.INITIALIZE,sku:n.activeSku,serverNetloc:n.config.serverNetloc,partnerId:n.config.partnerId,dittoId:n.config.dittoId,accessKeyId:n.config.accessKeyId,signature:n.config.signature,origin:window.location.origin,disablePreview:n.config.disablePreview,viewportWidth:n.getContainerWidth()})},!e.serverNetloc||"string"!=typeof e.serverNetloc)throw new Error("Tryon ERROR: config.serverNetloc is a required parameter.");return n.config=U({},F,{},e),n.callbacks=t,n.iframe=null,n.activeSku=null,n.config.serverNetloc=n.config.serverNetloc.replace(/\/$/,""),n.ApiManager=Object(v.ClientSideApiManager)({serverNetloc:n.config.serverNetloc,accessKeyId:n.config.accessKeyId,signature:n.config.signature,dittoId:n.config.dittoId}),n.handleResizeDebounce=R(n.handleResize,150),window.addEventListener("resize",n.handleResizeDebounce),e.thumbnailSelector&&n.getDittoThumbnail(e.thumbnailSelector,e.sku),n.setSku(n.config.sku),n}return h()(r,e),u()(r,[{key:"createIframe",value:function(){var e=document.querySelector(this.config.selector),t=document.createElement("iframe");t.name="ditto-iframe",t.width="100%",t.height="100%",t.frameBorder="0",t.scrolling="no",t.allowTransparency=!0,t.classList.add("DittoSandbox"),this.destroyIframe(),this.iframe=t,e.appendChild(t)}},{key:"setSku",value:function(e){var t=0<arguments.length&&void 0!==e?e:null;this.activeSku=t||void 0,this.createIframe(),this.iframe.addEventListener("load",this.onIframeLoad),this.iframe.src="".concat(window.ditto.config.iframeAssetsRoot,"/tryon.html")}},{key:"getDittoThumbnail",value:function(e,t){var o,i=this,n=0<arguments.length&&void 0!==e?e:null,a=1<arguments.length&&void 0!==t?t:null,s=document.querySelector(n);return I(s,{width:"134px",height:"100px",position:"relative"}),this.ApiManager.getThumbnail().then(function(e){var t=e.data;if("success"===t.status){o=t.bbox;var n=t.offset,r=document.createElement("img");return r.src=t.image_data_uri,I(r,{position:"absolute",left:"".concat(n.x,"px"),top:0}),s.appendChild(r),i.ApiManager.getFrontalFrame({product_id:a})}}).then(function(e){var t=e.data,n=document.createElement("img");n.onload=function(){var e=_(n,o);I(n,U({position:"absolute",opacity:0,transition:"opacity .4s"},e)),s.appendChild(n),setTimeout(function(){n.style.opacity=1},0)},n.src=L(t)}).catch(function(){var e=document.createElement("img");s.appendChild(e)})}},{key:"shouldFireCallback",value:function(e){return e in r.TRYON_CALLBACK_EVENT_TYPE&&e.toLowerCase()in this.callbacks}},{key:"getContainerWidth",value:function(){return document.querySelector(this.config.selector).offsetWidth}},{key:"onMessage",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.shouldFireCallback(t.event)&&this.callbacks[t.event.toLowerCase()]()}}],[{key:"API_EVENT_TYPE",get:function(){return Object.freeze(N)}},{key:"TRYON_EVENT_TYPE",get:function(){return Object.freeze(j)}},{key:"TRYON_CALLBACK_EVENT_TYPE",get:function(){return Object.freeze(x)}}]),r}(w),D=n(13),B=n.n(D);function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}var G,q=function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:[];return Object.keys(n).filter(function(e){return r.includes(e)}).reduce(function(e,t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e,i()({},t,n[t]))},{})},V={SUCCESS:"SUCCESS",FAILURE:"FAILURE",PROGRESS:"PROGRESS",CLOSE:"CLOSE",RE_RECORD:"RE_RECORD",FACEIQ_RESULT:"FACEIQ_RESULT",DISALLOW_LOADER:"DISALLOW_LOADER",ALLOW_LOADER:"ALLOW_LOADER"},H={CLOSE:"CLOSE",SUCCESS:"SUCCESS",FAILURE:"FAILURE",PROGRESS:"PROGRESS",RE_RECORD:"RE_RECORD",FACEIQ_RESULT:"FACEIQ_RESULT"},Y=(G={},i()(G,V.SUCCESS,["dittoId","realScale","accessKeyId","signature"]),i()(G,V.FAILURE,["status","description"]),i()(G,V.PROGRESS,["status","description","value","sessionId"]),i()(G,V.CLOSE,["description"]),i()(G,V.FACEIQ_RESULT,["faceShape"]),G);function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(n,!0).forEach(function(e){i()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var X,Z,$,Q={disableScale:!1,forceScale:!1,enableClose:!0,enableFaceAnalysis:!1},J=function(e){function r(){var n,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(s()(this,r),(n=f()(this,p()(r).call(this,"creation"))).destroy=function(){var e=document.querySelector('iframe[name="creation-iframe"]');e&&e.parentElement.removeChild(e),n.iframe=null},n.onIframeLoad=function(){var e=B()(n).config,t=e.serverNetloc.replace(/\/$/,"");e.faServerNetloc&&e.faServerNetloc.length||(e.faServerNetloc=t.replace(/(\/\/[a-zA-Z-]*)(vto)([a-zA-Z-]*\..*)/,"$1face$3")),n.postMessage({event:r.API_EVENT_TYPE.INITIALIZE,config:K({},window.ditto.config,{serverNetloc:t,faServerNetloc:e.faServerNetloc,accessKeyId:e.accessKeyId,clientSignature:e.clientSignature,partnerId:e.partnerId,flowType:n.flowType,targetId:n.targetId,parentOrigin:window.location.origin,initializeStart:n.initializeStart,disableScale:e.disableScale,forceScale:e.forceScale,enableClose:e.enableClose,enableFaceAnalysis:e.enableFaceAnalysis})})},!e.serverNetloc||"string"!=typeof e.serverNetloc)throw new Error("Creation ERROR: config.serverNetloc is a required parameter.");return n.config=K({},Q,{},e),n.callbacks=t,n.iframe=null,n.initializeStart=null,n.flowType=null,n.initializeIframe(),n}return h()(r,e),u()(r,[{key:"initializeIframe",value:function(){this.destroy(),this.initializeStart=Date.now();var e=document.createElement("iframe");e.name="creation-iframe",e.frameBorder="0",e.classList.add("DittoSandbox"),e.id="creation-iframe",e.allow="camera; autoplay",this.iframe=e,this.asyncUpdateIframe()}},{key:"asyncUpdateIframe",value:function(){var t=this;O.whichFlow(function(e){(t.flowType=e,t.iframe.src="".concat(window.ditto.config.iframeAssetsRoot,"/creation-"),e===E.COMPATIBILITY)?(t.iframe.width="100%",t.iframe.height="100%",t.iframe.src+="compatibility.html",I(t.iframe,{position:"fixed",left:"0",top:"0"}),document.body.appendChild(t.iframe)):(t.iframe.width="100%",t.iframe.height="600px",t.iframe.src+=e===E.FLASH?"flash.html":"standard.html",t.config.enableFaceAnalysis&&(t.iframe.src=t.iframe.src.replace(".html","-fa.html")),document.querySelector(t.config.selector).appendChild(t.iframe));t.iframe.addEventListener("load",t.onIframeLoad)})}},{key:"shrinkIframe",value:function(){this.iframe&&(this.iframe.width="1",this.iframe.height="1",I(this.iframe,{position:"absolute",left:"0",top:"0"}))}},{key:"reloadIframe",value:function(){this.shrinkIframe(),this.initializeIframe()}},{key:"callbackExists",value:function(e){return e in r.CREATION_CALLBACK_EVENT_TYPE&&e.toLowerCase()in this.callbacks}},{key:"tryFireCallback",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.event;if(this.callbackExists(n)){var r=q(t,Y[n]);this.callbacks[n.toLowerCase()](r)}}},{key:"onMessage",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};switch(t.event){case H.SUCCESS:this.flowType===E.COMPATIBILITY&&this.shrinkIframe();break;case V.RE_RECORD:this.reloadIframe();break;case V.CLOSE:this.destroy()}this.tryFireCallback(t)}},{key:"disallowLoader",value:function(){this.postMessage({event:V.DISALLOW_LOADER})}},{key:"allowLoader",value:function(){this.postMessage({event:V.ALLOW_LOADER})}}],[{key:"CREATION_EVENT_TYPE",get:function(){return Object.freeze(V)}},{key:"API_EVENT_TYPE",get:function(){return Object.freeze(N)}},{key:"CREATION_CALLBACK_EVENT_TYPE",get:function(){return Object.freeze(H)}},{key:"CREATION_EVENT_FILTERS",get:function(){return Object.freeze(Y)}}]),r}(w);function ee(e){return e.test($)}function te(){return b.touchevents&&b.fileinput}function ne(){return te()&&ee(Z)}function re(){return te()&&ee(X)}function oe(){return!!(window.document.documentElement.clientWidth<=719)}var ie=(X=/(?:CriOS|Chrome).*?Mobile/i,Z=/(iPhone|iPad|iPod)[^\)]+OS ([\d+_]+)/i,$=navigator.userAgent,{maybeMobile:te(),maybeMobileChrome:re(),maybeAndroid:te()&&(-1!==$.indexOf("Android")||re())&&!ne(),maybeIOS:ne(),maybeIPhone:ne()&&-1!==$.indexOf("iPhone"),iOSVersion:function(){if(ne())return Z.exec(navigator.userAgent)[2].split("_").map(function(e){return parseInt(e,10)})}(),isSmallScreen:oe(),isMobile:ne()||te()&&oe(),maybeDesktopSafari:function(){return!b.touchevents&&void 0!==document.body.style.webkitTransformStyle&&void 0===document.body.style.MozTransformStyle&&void 0===navigator.mozGetUserMedia&&void 0===document.body.style.msTransformStyle&&void 0===navigator.webkitGetUserMedia}});n.d(t,"api",function(){return ce}),n.d(t,"config",function(){return r});var ae=!1,se={browser:null,mobile:null,swf:null,gum:null};O.whichFlow(function(e){se={browser:ae=e!==E.UNAVAILABLE&&e!==E.UNKNOWN,mobile:ie.maybeMobile,swf:e===E.FLASH,gum:e===E.STANDARD}});var ce={checkBrowser:function(){return se},isSupported:function(){return ae},DittoCreation:J,TryOn:k}}]);